var pt=Object.defineProperty;var Re=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var He=(r,e,l)=>e in r?pt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[e]=l,we=(r,e)=>{for(var l in e||(e={}))bt.call(e,l)&&He(r,l,e[l]);if(Re)for(var l of Re(e))kt.call(e,l)&&He(r,l,e[l]);return r};import{S as ae,i as re,s as W,F as De,e as v,c as _,a as g,d as u,b as m,g as P,G as Pe,H as Ve,I as Ae,q as M,o as O,t as C,h as D,L as yt,k as $,m as z,M as de,J as c,N as ne,j as le,O as Ne,P as $e,K as Q,Q as ht,w as X,x,y as ee,B as te,R as Ee,T as ze,U as Et,D as Se,V as be,f as ye,n as ve,p as _e,v as mt,l as me,W as Fe}from"../chunks/vendor-b3b53180.js";import{_ as qe}from"../chunks/preload-helper-41a8beba.js";function St(r){let e,l;const t=r[1].default,a=De(t,r,r[0],null);return{c(){e=v("div"),a&&a.c(),this.h()},l(n){e=_(n,"DIV",{class:!0});var s=g(e);a&&a.l(s),s.forEach(u),this.h()},h(){m(e,"class","svelte-15ghafl")},m(n,s){P(n,e,s),a&&a.m(e,null),l=!0},p(n,[s]){a&&a.p&&(!l||s&1)&&Pe(a,t,n,n[0],l?Ae(t,n[0],s,null):Ve(n[0]),null)},i(n){l||(M(a,n),l=!0)},o(n){O(a,n),l=!1},d(n){n&&u(e),a&&a.d(n)}}}function It(r,e,l){let{$$slots:t={},$$scope:a}=e;return r.$$set=n=>{"$$scope"in n&&l(0,a=n.$$scope)},[a,t]}class wt extends ae{constructor(e){super();re(this,e,It,St,W,{})}}function Tt(r){let e;return{c(){e=C("Loading...")},l(l){e=D(l,"Loading...")},m(l,t){P(l,e,t)},d(l){l&&u(e)}}}function Ct(r){let e,l;const t=r[1].default,a=De(t,r,r[0],null),n=a||Tt();return{c(){e=v("div"),n&&n.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);n&&n.l(o),o.forEach(u),this.h()},h(){m(e,"class","svelte-12417c9")},m(s,o){P(s,e,o),n&&n.m(e,null),l=!0},p(s,[o]){a&&a.p&&(!l||o&1)&&Pe(a,t,s,s[0],l?Ae(t,s[0],o,null):Ve(s[0]),null)},i(s){l||(M(n,s),l=!0)},o(s){O(n,s),l=!1},d(s){s&&u(e),n&&n.d(s)}}}function Dt(r,e,l){let{$$slots:t={},$$scope:a}=e;return r.$$set=n=>{"$$scope"in n&&l(0,a=n.$$scope)},[a,t]}class Pt extends ae{constructor(e){super();re(this,e,Dt,Ct,W,{})}}const Vt="https://zqekqykytrlxakniylhi.supabase.co",At="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpxZWtxeWt5dHJseGFrbml5bGhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDcyMTEyMDIsImV4cCI6MTk2Mjc4NzIwMn0.jOCE37KfqhDELYauZdIvoGbpbh_tZhPu4JflBL-wY8Q";var Le=yt(Vt,At);function Je(r,e,l){const t=r.slice();return t[11]=e[l],t[13]=l,t}function Ke(r){let e,l=r[0],t=[];for(let a=0;a<l.length;a+=1)t[a]=Ge(Je(r,l,a));return{c(){e=v("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var n=g(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(u),this.h()},h(){m(e,"class","suggestions svelte-yrpip9")},m(a,n){P(a,e,n);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(a,n){if(n&197){l=a[0];let s;for(s=0;s<l.length;s+=1){const o=Je(a,l,s);t[s]?t[s].p(o,n):(t[s]=Ge(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(a){a&&u(e),$e(t,a)}}}function Ge(r){let e,l,t=r[11].name+"",a,n,s,o=r[11].stationName+"",i,f,h,d;return{c(){e=v("div"),l=v("div"),a=C(t),n=$(),s=v("div"),i=C(o),f=$(),this.h()},l(y){e=_(y,"DIV",{class:!0});var b=g(e);l=_(b,"DIV",{class:!0});var p=g(l);a=D(p,t),p.forEach(u),n=z(b),s=_(b,"DIV",{class:!0});var k=g(s);i=D(k,o),k.forEach(u),f=z(b),b.forEach(u),this.h()},h(){m(l,"class","suggestion-top svelte-yrpip9"),m(s,"class","suggestion-bottom svelte-yrpip9"),m(e,"class","suggestion svelte-yrpip9"),de(e,"suggestion-highlighted",r[2]===r[13])},m(y,b){P(y,e,b),c(e,l),c(l,a),c(e,n),c(e,s),c(s,i),c(e,f),h||(d=[ne(e,"click",r[6](r[13])),ne(e,"mouseover",r[7](r[13])),ne(e,"focus",r[7](r[13]))],h=!0)},p(y,b){r=y,b&1&&t!==(t=r[11].name+"")&&le(a,t),b&1&&o!==(o=r[11].stationName+"")&&le(i,o),b&4&&de(e,"suggestion-highlighted",r[2]===r[13])},d(y){y&&u(e),h=!1,Ne(d)}}}function Nt(r){var o;let e,l,t,a,n,s=((o=r[0])==null?void 0:o.length)&&Ke(r);return{c(){e=v("div"),l=v("input"),t=$(),s&&s.c(),this.h()},l(i){e=_(i,"DIV",{class:!0});var f=g(e);l=_(f,"INPUT",{type:!0,placeholder:!0,class:!0}),t=z(f),s&&s.l(f),f.forEach(u),this.h()},h(){m(l,"type","text"),m(l,"placeholder","Search by name or station..."),m(l,"class","svelte-yrpip9"),m(e,"class","root svelte-yrpip9")},m(i,f){P(i,e,f),c(e,l),r[10](l),c(e,t),s&&s.m(e,null),a||(n=[ne(l,"focus",r[4]),ne(l,"focusout",r[5]),ne(l,"blur",r[5]),ne(l,"keydown",r[3])],a=!0)},p(i,[f]){var h;(h=i[0])!=null&&h.length?s?s.p(i,f):(s=Ke(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Q,o:Q,d(i){i&&u(e),r[10](null),s&&s.d(),a=!1,Ne(n)}}}function $t(r,e,l){let{onChange:t}=e,{suggestions:a}=e,{onSuggestionsSubmit:n}=e,s,o=null;const i=p=>{var k;if(((k=p.target.value)==null?void 0:k.trim())===""){l(2,o=null),t==null||t(null);return}if(p.key==="ArrowDown"&&o<=a.length-1)o===null||o===a.length-1?l(2,o=0):l(2,o+=1);else if(p.key==="ArrowUp"&&o!==null)o===0?l(2,o=a.length-1):l(2,o-=1);else if(p.key==="Enter")o!==null&&(n==null||n(a[o]),l(1,s.value=a[o].name,s));else{t==null||t(p.target.value);return}},f=p=>{var k;((k=p.target.value)==null?void 0:k.trim())!==""&&(t==null||t(p.target.value))},h=p=>{var k;if(((k=p.target.value)==null?void 0:k.trim())===""){l(2,o=null),t==null||t(null);return}},d=p=>()=>{n==null||n(a[p]),l(1,s.value=a[p].name,s)},y=p=>()=>{l(2,o=p)};function b(p){ht[p?"unshift":"push"](()=>{s=p,l(1,s)})}return r.$$set=p=>{"onChange"in p&&l(8,t=p.onChange),"suggestions"in p&&l(0,a=p.suggestions),"onSuggestionsSubmit"in p&&l(9,n=p.onSuggestionsSubmit)},[a,s,o,i,f,h,d,y,t,n,b]}class zt extends ae{constructor(e){super();re(this,e,$t,Nt,W,{onChange:8,suggestions:0,onSuggestionsSubmit:9})}}function Lt(r){let e,l;return e=new zt({props:{onChange:r[1],suggestions:r[0],onSuggestionsSubmit:r[3]}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&1&&(n.suggestions=t[0]),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function jt(r,e,l){let t,{onProfileSearch:a}=e,n;const s=async()=>{const d=await new Promise(y=>{Le.from("profile-bca").select("id, name, stationName").then(b=>{y(b.body)})});n=new Et(d,{keys:[{name:"name",weight:.8},{name:"stationName",weight:.2}]})},o=Se(null),i=d=>{o.update(()=>d)},f=Ee(o,async(d,y)=>{d&&!n&&await s();const b=d?n==null?void 0:n.search(d).slice(0,5):[];y(b.map(p=>p.item))});ze(r,f,d=>l(0,t=d));const h=d=>{o.update(()=>null),a==null||a(d)};return r.$$set=d=>{"onProfileSearch"in d&&l(4,a=d.onProfileSearch)},[t,i,f,h,a]}class Mt extends ae{constructor(e){super();re(this,e,jt,Lt,W,{onProfileSearch:4})}}function Bt(r){let e,l,t,a,n,s,o,i,f,h,d,y,b,p,k,S,w,E,L,G,I,V,B,R,Y,U,Z,se;return d=new Mt({props:{onProfileSearch:r[4]}}),{c(){e=v("div"),l=v("div"),t=v("div"),a=v("button"),n=C("About"),s=$(),o=v("div"),i=$(),f=v("div"),h=v("div"),X(d.$$.fragment),y=$(),b=v("div"),p=$(),k=v("div"),S=v("button"),w=C("Charities"),E=$(),L=v("div"),G=$(),I=v("div"),V=v("div"),B=v("label"),R=v("input"),Y=C(`
        Show station names`),this.h()},l(A){e=_(A,"DIV",{class:!0});var j=g(e);l=_(j,"DIV",{class:!0});var N=g(l);t=_(N,"DIV",{class:!0});var F=g(t);a=_(F,"BUTTON",{});var q=g(a);n=D(q,"About"),q.forEach(u),F.forEach(u),s=z(N),o=_(N,"DIV",{class:!0}),g(o).forEach(u),i=z(N),f=_(N,"DIV",{class:!0});var K=g(f);h=_(K,"DIV",{class:!0});var J=g(h);x(d.$$.fragment,J),J.forEach(u),K.forEach(u),y=z(N),b=_(N,"DIV",{class:!0}),g(b).forEach(u),p=z(N),k=_(N,"DIV",{class:!0});var T=g(k);S=_(T,"BUTTON",{});var H=g(S);w=D(H,"Charities"),H.forEach(u),T.forEach(u),N.forEach(u),E=z(j),L=_(j,"DIV",{class:!0}),g(L).forEach(u),G=z(j),I=_(j,"DIV",{class:!0});var oe=g(I);V=_(oe,"DIV",{class:!0});var ie=g(V);B=_(ie,"LABEL",{class:!0});var ce=g(B);R=_(ce,"INPUT",{type:!0,class:!0}),Y=D(ce,`
        Show station names`),ce.forEach(u),ie.forEach(u),oe.forEach(u),j.forEach(u),this.h()},h(){de(a,"active",r[0].about),m(t,"class","column svelte-4l4ur1"),m(o,"class","separator svelte-4l4ur1"),m(h,"class","search-input svelte-4l4ur1"),m(f,"class","column column-grow svelte-4l4ur1"),m(b,"class","separator svelte-4l4ur1"),de(S,"active",r[0].charities),m(k,"class","column svelte-4l4ur1"),m(l,"class","columns svelte-4l4ur1"),m(L,"class","columns-separator svelte-4l4ur1"),m(R,"type","checkbox"),m(R,"class","toggle-input"),m(B,"class","toggle svelte-4l4ur1"),m(V,"class","column svelte-4l4ur1"),m(I,"class","columns svelte-4l4ur1"),m(e,"class","root svelte-4l4ur1")},m(A,j){P(A,e,j),c(e,l),c(l,t),c(t,a),c(a,n),c(l,s),c(l,o),c(l,i),c(l,f),c(f,h),ee(d,h,null),c(l,y),c(l,b),c(l,p),c(l,k),c(k,S),c(S,w),c(e,E),c(e,L),c(e,G),c(e,I),c(I,V),c(V,B),c(B,R),c(B,Y),U=!0,Z||(se=[ne(a,"click",function(){be(r[1])&&r[1].apply(this,arguments)}),ne(S,"click",function(){be(r[2])&&r[2].apply(this,arguments)}),ne(R,"change",function(){be(r[3])&&r[3].apply(this,arguments)})],Z=!0)},p(A,[j]){r=A,j&1&&de(a,"active",r[0].about);const N={};j&16&&(N.onProfileSearch=r[4]),d.$set(N),j&1&&de(S,"active",r[0].charities)},i(A){U||(M(d.$$.fragment,A),U=!0)},o(A){O(d.$$.fragment,A),U=!1},d(A){A&&u(e),te(d),Z=!1,Ne(se)}}}function Ot(r,e,l){let{tabsState:t={}}=e,{onClickAbout:a}=e,{onClickCharities:n}=e,{onToggleShowStationNames:s}=e,{onProfileSearch:o}=e;return r.$$set=i=>{"tabsState"in i&&l(0,t=i.tabsState),"onClickAbout"in i&&l(1,a=i.onClickAbout),"onClickCharities"in i&&l(2,n=i.onClickCharities),"onToggleShowStationNames"in i&&l(3,s=i.onToggleShowStationNames),"onProfileSearch"in i&&l(4,o=i.onProfileSearch)},[t,a,n,s,o]}class Ut extends ae{constructor(e){super();re(this,e,Ot,Bt,W,{tabsState:0,onClickAbout:1,onClickCharities:2,onToggleShowStationNames:3,onProfileSearch:4})}}function We(r){let e,l,t,a,n=r[1]&&Ye(r);return{c(){e=v("div"),l=v("h2"),t=C(r[0]),a=$(),n&&n.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);l=_(o,"H2",{class:!0});var i=g(l);t=D(i,r[0]),i.forEach(u),a=z(o),n&&n.l(o),o.forEach(u),this.h()},h(){m(l,"class","header-title svelte-zmzzj0"),m(e,"class","header svelte-zmzzj0")},m(s,o){P(s,e,o),c(e,l),c(l,t),c(e,a),n&&n.m(e,null)},p(s,o){o&1&&le(t,s[0]),s[1]?n?n.p(s,o):(n=Ye(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(s){s&&u(e),n&&n.d()}}}function Ye(r){let e,l;return{c(){e=v("div"),l=C(r[1]),this.h()},l(t){e=_(t,"DIV",{class:!0});var a=g(e);l=D(a,r[1]),a.forEach(u),this.h()},h(){m(e,"class","header-meta svelte-zmzzj0")},m(t,a){P(t,e,a),c(e,l)},p(t,a){a&2&&le(l,t[1])},d(t){t&&u(e)}}}function Rt(r){let e,l,t,a,n,s,o,i,f,h,d=r[0]&&We(r);const y=r[4].default,b=De(y,r,r[3],null);return{c(){e=v("div"),d&&d.c(),l=$(),t=v("div"),b&&b.c(),a=$(),n=v("div"),s=v("button"),o=C("Done"),this.h()},l(p){e=_(p,"DIV",{class:!0});var k=g(e);d&&d.l(k),l=z(k),t=_(k,"DIV",{class:!0});var S=g(t);b&&b.l(S),S.forEach(u),a=z(k),n=_(k,"DIV",{class:!0});var w=g(n);s=_(w,"BUTTON",{class:!0});var E=g(s);o=D(E,"Done"),E.forEach(u),w.forEach(u),k.forEach(u),this.h()},h(){m(t,"class","body svelte-zmzzj0"),m(s,"class","footer-close svelte-zmzzj0"),m(n,"class","footer svelte-zmzzj0"),m(e,"class","root svelte-zmzzj0")},m(p,k){P(p,e,k),d&&d.m(e,null),c(e,l),c(e,t),b&&b.m(t,null),c(e,a),c(e,n),c(n,s),c(s,o),i=!0,f||(h=ne(s,"click",function(){be(r[2])&&r[2].apply(this,arguments)}),f=!0)},p(p,[k]){r=p,r[0]?d?d.p(r,k):(d=We(r),d.c(),d.m(e,l)):d&&(d.d(1),d=null),b&&b.p&&(!i||k&8)&&Pe(b,y,r,r[3],i?Ae(y,r[3],k,null):Ve(r[3]),null)},i(p){i||(M(b,p),i=!0)},o(p){O(b,p),i=!1},d(p){p&&u(e),d&&d.d(),b&&b.d(p),f=!1,h()}}}function Ht(r,e,l){let{$$slots:t={},$$scope:a}=e,{title:n}=e,{subTitle:s}=e,{onClose:o}=e;return r.$$set=i=>{"title"in i&&l(0,n=i.title),"subTitle"in i&&l(1,s=i.subTitle),"onClose"in i&&l(2,o=i.onClose),"$$scope"in i&&l(3,a=i.$$scope)},[n,s,o,a,t]}class vt extends ae{constructor(e){super();re(this,e,Ht,Rt,W,{title:0,subTitle:1,onClose:2})}}function Ze(r,e,l){const t=r.slice();return t[1]=e[l],t}function Ft(r){let e;return{c(){e=C("\u2010")},l(l){e=D(l,"\u2010")},m(l,t){P(l,e,t)},p:Q,d(l){l&&u(e)}}}function qt(r){let e=r[1].station+"",l;return{c(){l=C(e)},l(t){l=D(t,e)},m(t,a){P(t,l,a)},p(t,a){a&1&&e!==(e=t[1].station+"")&&le(l,e)},d(t){t&&u(l)}}}function Qe(r){let e,l,t=r[1].org+"",a,n,s,o,i,f,h=r[1].url+"",d,y,b;function p(w,E){return w[1].station?qt:Ft}let k=p(r),S=k(r);return{c(){e=v("tr"),l=v("td"),a=C(t),n=$(),s=v("td"),S.c(),o=$(),i=v("td"),f=v("a"),d=C(h),b=$(),this.h()},l(w){e=_(w,"TR",{});var E=g(e);l=_(E,"TD",{});var L=g(l);a=D(L,t),L.forEach(u),n=z(E),s=_(E,"TD",{});var G=g(s);S.l(G),G.forEach(u),o=z(E),i=_(E,"TD",{});var I=g(i);f=_(I,"A",{href:!0,rel:!0});var V=g(f);d=D(V,h),V.forEach(u),I.forEach(u),b=z(E),E.forEach(u),this.h()},h(){m(f,"href",y=r[1].url),m(f,"rel","nofollow")},m(w,E){P(w,e,E),c(e,l),c(l,a),c(e,n),c(e,s),S.m(s,null),c(e,o),c(e,i),c(i,f),c(f,d),c(e,b)},p(w,E){E&1&&t!==(t=w[1].org+"")&&le(a,t),k===(k=p(w))&&S?S.p(w,E):(S.d(1),S=k(w),S&&(S.c(),S.m(s,null))),E&1&&h!==(h=w[1].url+"")&&le(d,h),E&1&&y!==(y=w[1].url)&&m(f,"href",y)},d(w){w&&u(e),S.d()}}}function Jt(r){let e,l,t,a,n,s,o,i,f,h,d,y,b,p=r[0],k=[];for(let S=0;S<p.length;S+=1)k[S]=Qe(Ze(r,p,S));return{c(){e=v("table"),l=v("thead"),t=v("tr"),a=v("th"),n=C("Organisation"),s=$(),o=v("th"),i=C("Station"),f=$(),h=v("th"),d=C("Website"),y=$(),b=v("tbody");for(let S=0;S<k.length;S+=1)k[S].c();this.h()},l(S){e=_(S,"TABLE",{});var w=g(e);l=_(w,"THEAD",{});var E=g(l);t=_(E,"TR",{});var L=g(t);a=_(L,"TH",{class:!0});var G=g(a);n=D(G,"Organisation"),G.forEach(u),s=z(L),o=_(L,"TH",{class:!0});var I=g(o);i=D(I,"Station"),I.forEach(u),f=z(L),h=_(L,"TH",{class:!0});var V=g(h);d=D(V,"Website"),V.forEach(u),L.forEach(u),E.forEach(u),y=z(w),b=_(w,"TBODY",{});var B=g(b);for(let R=0;R<k.length;R+=1)k[R].l(B);B.forEach(u),w.forEach(u),this.h()},h(){m(a,"class","svelte-yum2ec"),ye(a,"min-width","200px",!1),m(o,"class","svelte-yum2ec"),ye(o,"min-width","150px",!1),m(h,"class","svelte-yum2ec")},m(S,w){P(S,e,w),c(e,l),c(l,t),c(t,a),c(a,n),c(t,s),c(t,o),c(o,i),c(t,f),c(t,h),c(h,d),c(e,y),c(e,b);for(let E=0;E<k.length;E+=1)k[E].m(b,null)},p(S,[w]){if(w&1){p=S[0];let E;for(E=0;E<p.length;E+=1){const L=Ze(S,p,E);k[E]?k[E].p(L,w):(k[E]=Qe(L),k[E].c(),k[E].m(b,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=p.length}},i:Q,o:Q,d(S){S&&u(e),$e(k,S)}}}function Kt(r,e,l){let{data:t=[]}=e;return r.$$set=a=>{"data"in a&&l(0,t=a.data)},[t]}class Gt extends ae{constructor(e){super();re(this,e,Kt,Jt,W,{data:0})}}const je=Se({}),Wt=r=>{je.set(r)},_t=r=>{je.update(e=>{const l=we({},e);return Object.keys(l).forEach(t=>{r&&t===r?l[t]=e[t]?0:1:l[t]=0}),l})},Yt=()=>{_t()},Zt=[{org:"Black Cultural Archives",station:"Brixton",url:"https://blackculturalarchives.org/support"},{org:"Black Pride UK",station:"Kingsbury",url:"https://www.ukblackpride.org.uk/donate"},{org:"Exist Loudly",station:"Queensbury",url:"https://www.gofundme.com/f/exist-loudly-fund-to-support-queer-black-yp"},{org:"Black Plaque Project",station:"Burnt Oak",url:"https://blackplaqueproject.com/our-mission"},{org:"The Africa Centre",station:"Borough",url:"https://www.africacentre.org.uk/donate"},{org:"Black Trans Alliance",station:"St. John's Wood",url:"https://www.blacktransalliance.org/Appeal/donate"},{org:"Black Out UK",station:"Southwark",url:"https://blkoutuk.com/about/support-blackout-uk"},{org:"Stop Hate UK",url:"https://www.stophateuk.org"}].sort((r,e)=>r.org.toLowerCase().localeCompare(e.org.toLowerCase()));function Xe(r){let e,l;return e=new vt({props:{title:"Interactive Black History Tube Map",subTitle:"2021 \xB7 SvelteJS hosted on Github Pages",onClose:r[4],$$slots:{default:[Qt]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,a){const n={};a&32&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Qt(r){let e,l,t,a,n,s,o,i,f,h,d,y,b,p,k,S,w,E,L,G;return{c(){e=v("div"),l=v("p"),t=C("The "),a=v("a"),n=C("Black History Tube Map"),s=C(`
          was released by Transport of London in October 2021 to celebrate the 40th anniversary of the
          Black Cultural Archives. The map was researched and designed by historian
          `),o=v("a"),i=C("Kelly Foster"),f=C("."),h=$(),d=v("p"),y=C("The "),b=v("strong"),p=C("Interactive Black History Tube Map"),k=C(` is a personal research project to learn
          more about the 270 names listed on the original map. The project was started in October 2021
          and release late November 2021. This project is not affliated, not in collaboration nor representative
          of TFL, Black Cultural Archives or the original team who produced the map. This project also
          does not guarantee accurate representation, past or future, of the source material. Any issues
          should be directed to the project's github repository. All rights are reserved to their respective
          copyright holders.`),S=$(),w=v("p"),E=C("For issues and feedback, please submit a ticket "),L=v("a"),G=C("on the github project page"),this.h()},l(I){e=_(I,"DIV",{});var V=g(e);l=_(V,"P",{});var B=g(l);t=D(B,"The "),a=_(B,"A",{href:!0,target:!0,rel:!0,title:!0});var R=g(a);n=D(R,"Black History Tube Map"),R.forEach(u),s=D(B,`
          was released by Transport of London in October 2021 to celebrate the 40th anniversary of the
          Black Cultural Archives. The map was researched and designed by historian
          `),o=_(B,"A",{href:!0});var Y=g(o);i=D(Y,"Kelly Foster"),Y.forEach(u),f=D(B,"."),B.forEach(u),h=z(V),d=_(V,"P",{});var U=g(d);y=D(U,"The "),b=_(U,"STRONG",{});var Z=g(b);p=D(Z,"Interactive Black History Tube Map"),Z.forEach(u),k=D(U,` is a personal research project to learn
          more about the 270 names listed on the original map. The project was started in October 2021
          and release late November 2021. This project is not affliated, not in collaboration nor representative
          of TFL, Black Cultural Archives or the original team who produced the map. This project also
          does not guarantee accurate representation, past or future, of the source material. Any issues
          should be directed to the project's github repository. All rights are reserved to their respective
          copyright holders.`),U.forEach(u),S=z(V),w=_(V,"P",{});var se=g(w);E=D(se,"For issues and feedback, please submit a ticket "),L=_(se,"A",{href:!0});var A=g(L);G=D(A,"on the github project page"),A.forEach(u),se.forEach(u),V.forEach(u),this.h()},h(){m(a,"href","https://blackculturalarchives.org/shop/black-history-tube-map"),m(a,"target","_blank"),m(a,"rel","noopener noreferrer"),m(a,"title","Link to Official Black History Tube Map"),m(o,"href","https://twitter.com/LondonLabrish"),m(L,"href","https://github.com/jimleuk/interactive-blackhistorytubemap/issues"),ye(e,"max-width","640px",!1)},m(I,V){P(I,e,V),c(e,l),c(l,t),c(l,a),c(a,n),c(l,s),c(l,o),c(o,i),c(l,f),c(e,h),c(e,d),c(d,y),c(d,b),c(b,p),c(d,k),c(e,S),c(e,w),c(w,E),c(w,L),c(L,G)},p:Q,d(I){I&&u(e)}}}function xe(r){let e,l;return e=new vt({props:{title:"Charities",subTitle:"A list of charities found on the map and some extra ones too",onClose:r[4],$$slots:{default:[Xt]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,a){const n={};a&32&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Xt(r){let e,l,t,a,n,s,o,i;return e=new Gt({props:{data:Zt}}),{c(){X(e.$$.fragment),l=$(),t=v("div"),a=v("p"),n=C("Your charity missing? Please submit a ticket "),s=v("a"),o=C("on the github project page"),this.h()},l(f){x(e.$$.fragment,f),l=z(f),t=_(f,"DIV",{class:!0});var h=g(t);a=_(h,"P",{});var d=g(a);n=D(d,"Your charity missing? Please submit a ticket "),s=_(d,"A",{href:!0});var y=g(s);o=D(y,"on the github project page"),y.forEach(u),d.forEach(u),h.forEach(u),this.h()},h(){m(s,"href","https://github.com/jimleuk/interactive-blackhistorytubemap/issues"),m(t,"class","mt-3")},m(f,h){ee(e,f,h),P(f,l,h),P(f,t,h),c(t,a),c(a,n),c(a,s),c(s,o),i=!0},p:Q,i(f){i||(M(e.$$.fragment,f),i=!0)},o(f){O(e.$$.fragment,f),i=!1},d(f){te(e,f),f&&u(l),f&&u(t)}}}function xt(r){let e,l,t,a,n,s;l=new Ut({props:{tabsState:r[2],onClickAbout:r[3]("about"),onClickCharities:r[3]("charities"),onToggleShowStationNames:r[0],onProfileSearch:r[1]}});let o=r[2].about&&Xe(r),i=r[2].charities&&xe(r);return{c(){e=v("div"),X(l.$$.fragment),t=$(),a=v("div"),o&&o.c(),n=$(),i&&i.c(),this.h()},l(f){e=_(f,"DIV",{class:!0});var h=g(e);x(l.$$.fragment,h),h.forEach(u),t=z(f),a=_(f,"DIV",{class:!0});var d=g(a);o&&o.l(d),n=z(d),i&&i.l(d),d.forEach(u),this.h()},h(){m(e,"class","toolbar svelte-1moydni"),m(a,"class","panels svelte-1moydni")},m(f,h){P(f,e,h),ee(l,e,null),P(f,t,h),P(f,a,h),o&&o.m(a,null),c(a,n),i&&i.m(a,null),s=!0},p(f,[h]){const d={};h&4&&(d.tabsState=f[2]),h&1&&(d.onToggleShowStationNames=f[0]),h&2&&(d.onProfileSearch=f[1]),l.$set(d),f[2].about?o?(o.p(f,h),h&4&&M(o,1)):(o=Xe(f),o.c(),M(o,1),o.m(a,n)):o&&(ve(),O(o,1,1,()=>{o=null}),_e()),f[2].charities?i?(i.p(f,h),h&4&&M(i,1)):(i=xe(f),i.c(),M(i,1),i.m(a,null)):i&&(ve(),O(i,1,1,()=>{i=null}),_e())},i(f){s||(M(l.$$.fragment,f),M(o),M(i),s=!0)},o(f){O(l.$$.fragment,f),O(o),O(i),s=!1},d(f){f&&u(e),te(l),f&&u(t),f&&u(a),o&&o.d(),i&&i.d()}}}function el(r,e,l){let t;ze(r,je,i=>l(2,t=i)),Wt({about:0,charities:0});const a=i=>()=>{_t(i)},n=()=>{Yt()};let{onToggleShowStationNames:s}=e,{onProfileSearch:o}=e;return r.$$set=i=>{"onToggleShowStationNames"in i&&l(0,s=i.onToggleShowStationNames),"onProfileSearch"in i&&l(1,o=i.onProfileSearch)},[s,o,t,a,n]}class tl extends ae{constructor(e){super();re(this,e,el,xt,W,{onToggleShowStationNames:0,onProfileSearch:1})}}var he=(r=>(r.default="map-default",r.bca="map-bca",r))(he||{});const ke=Se({current:"map-bca"}),Te={},ll=Ee(ke,(r,e)=>{const l=r.current;if(!Object.values(he).includes(l)){console.error(`Expected one of "${Object.values(he).join(", ")}", got "${l}".`);return}if(Te[l]){e({error:null,data:Te[l]});return}Le.from(l).select("code, displayName, idRef").then(t=>{var a,n;t.error||(Te[l]=t.body),e({error:(n=(a=t.error)==null?void 0:a.message)!=null?n:null,data:t.body})})},{error:null,data:[]});var al="https://jimleuk.github.io/interactive-blackhistorytubemap/_app/assets/map-98b7b0a8.svg";function rl(r){let e;return{c(){e=v("div"),this.h()},l(l){e=_(l,"DIV",{class:!0});var t=g(e);t.forEach(u),this.h()},h(){m(e,"class","svelte-xyjd0g")},m(l,t){P(l,e,t),e.innerHTML=sl,r[9](e)},p:Q,i:Q,o:Q,d(l){l&&u(e),r[9](null)}}}let sl="";function nl(r,e,l){let{zoomMin:t}=e,{zoomMax:a}=e,{boundLeft:n}=e,{boundRight:s}=e,{boundTop:o}=e,{boundBottom:i}=e,{data:f=[]}=e,{onNodeClick:h}=e,d,y,b,p;const k=async()=>{const I=await fetch(al);l(0,d.innerHTML=await I.text(),d)},S=async()=>{const{SVG:I}=await qe(()=>import("../chunks/main-1a102dd9.js"),[]);await qe(()=>import("../chunks/svg.panzoom-7170d998.js"),["chunks/svg.panzoom-7170d998.js","chunks/main-1a102dd9.js"]),y=I(d.querySelector("svg")),y.panZoom({zoomMin:t,zoomMax:a,margins:{top:o,bottom:i,left:n,right:s}})},w=()=>{y==null||y.size(b,p)},E=I=>{if(!y)return;const V=y.find("#labels");I.forEach(B=>{var N,F,q,K,J,T;const R=`#label_${B.code}`,Y=V.find(R);if(!Y)return;const U=(F=(N=B.displayName)==null?void 0:N.split("\\n"))!=null?F:["UNKNOWN"],Z=Y.first("tspan"),se=(K=(q=Z.attr("x"))==null?void 0:q[0])==null?void 0:K[0],A=(T=(J=Z.attr("y"))==null?void 0:J[0])==null?void 0:T[0],j=4;Y.text(H=>{U.forEach((oe,ie)=>{H.tspan(oe).attr({x:se,y:A+j*ie})})})})},L=()=>{y.on("click",I=>{const V=I.composedPath().find(R=>(R.tagName==="text"||R.tagName==="circle")&&R.id);if(!V)return;const B=V.id.replace("label_","");h==null||h({value:B})})};mt(async()=>{await k(),await S();const I=d.getBoundingClientRect();b=I.width,p=I.height-10,w(),L()});function G(I){ht[I?"unshift":"push"](()=>{d=I,l(0,d)})}return r.$$set=I=>{"zoomMin"in I&&l(1,t=I.zoomMin),"zoomMax"in I&&l(2,a=I.zoomMax),"boundLeft"in I&&l(3,n=I.boundLeft),"boundRight"in I&&l(4,s=I.boundRight),"boundTop"in I&&l(5,o=I.boundTop),"boundBottom"in I&&l(6,i=I.boundBottom),"data"in I&&l(7,f=I.data),"onNodeClick"in I&&l(8,h=I.onNodeClick)},r.$$.update=()=>{r.$$.dirty&128&&E(f)},[d,t,a,n,s,o,i,f,h,G]}class ol extends ae{constructor(e){super();re(this,e,nl,rl,W,{zoomMin:1,zoomMax:2,boundLeft:3,boundRight:4,boundTop:5,boundBottom:6,data:7,onNodeClick:8})}}function il(r){let e,l;return e=new ol({props:{zoomMin:"1",zoomMax:"10",boundLeft:"100",boundRight:"100",boundTop:"100",boundBottom:"100",onNodeClick:r[2],data:r[1]}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&3&&(n.onNodeClick=t[2]),a&2&&(n.data=t[1]),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function cl(r,e,l){let{onNodeClick:t=()=>{}}=e,a=[];ll.subscribe(s=>{l(1,a=s.data)});const n=({value:s})=>{const o=a.find(i=>i.code===s);t(o)};return r.$$set=s=>{"onNodeClick"in s&&l(0,t=s.onNodeClick)},[t,a,n]}class ul extends ae{constructor(e){super();re(this,e,cl,il,W,{onNodeClick:0})}}let Ce=0;const fl=()=>(Ce=Ce+1,Ce),gt=Se([]),dl=(r,e)=>[...r,e],hl=(r,e)=>r.filter(l=>l._id!==e._id),ml=(r,e)=>{switch(e.action){case"add":return dl(r,e.payload);case"remove":return hl(r,e.payload);default:console.error("Profiles/store::topicReducer - unknown action")}return r},vl=Ee(gt,r=>r.reduce(ml,[])),et=r=>{gt.update(e=>[...e,{action:"add",payload:we({_id:fl()},r)}])},tt=[],_l=Ee(vl,(r,e)=>{var a;const l=(a=r[r.length-1])==null?void 0:a.idRef;if(!l){e({error:"Unknown Id",data:null});return}const t=tt.find(n=>n.id===l);if(t){e({error:null,data:t});return}Le.from("profile-bca").select("*").eq("id",l).then(n=>{var o,i,f;const s=n.body[0];if(n.error||!s)throw(o=n.error)!=null?o:"Profiles/store::currentProfileStore - profile not found";tt.push(s),e({error:(f=(i=n.error)==null?void 0:i.message)!=null?f:null,data:s})})});function lt(r){let e,l=r[0].imageAttribution+"",t;return{c(){e=v("div"),t=C(l),this.h()},l(a){e=_(a,"DIV",{class:!0});var n=g(e);t=D(n,l),n.forEach(u),this.h()},h(){m(e,"class","data-img-attribution svelte-4ldylr")},m(a,n){P(a,e,n),c(e,t)},p(a,n){n&1&&l!==(l=a[0].imageAttribution+"")&&le(t,l)},d(a){a&&u(e)}}}function at(r){let e=r[0].dateStart+"",l;return{c(){l=C(e)},l(t){l=D(t,e)},m(t,a){P(t,l,a)},p(t,a){a&1&&e!==(e=t[0].dateStart+"")&&le(l,e)},d(t){t&&u(l)}}}function rt(r){let e,l=r[0].dateEnd+"",t;return{c(){e=C("- "),t=C(l)},l(a){e=D(a,"- "),t=D(a,l)},m(a,n){P(a,e,n),P(a,t,n)},p(a,n){n&1&&l!==(l=a[0].dateEnd+"")&&le(t,l)},d(a){a&&u(e),a&&u(t)}}}function st(r){let e,l,t=r[0].stationName+"",a,n;return{c(){e=v("div"),l=v("div"),a=C(t),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);l=_(o,"DIV",{class:!0});var i=g(l);a=D(i,t),i.forEach(u),o.forEach(u),this.h()},h(){m(l,"class",n="station-badge line-"+r[0].stationLineCode+" svelte-4ldylr"),m(e,"class","column")},m(s,o){P(s,e,o),c(e,l),c(l,a)},p(s,o){o&1&&t!==(t=s[0].stationName+"")&&le(a,t),o&1&&n!==(n="station-badge line-"+s[0].stationLineCode+" svelte-4ldylr")&&m(l,"class",n)},d(s){s&&u(e)}}}function nt(r){let e,l,t,a;return{c(){e=v("div"),l=v("a"),t=C("More Info"),this.h()},l(n){e=_(n,"DIV",{class:!0});var s=g(e);l=_(s,"A",{class:!0,href:!0});var o=g(l);t=D(o,"More Info"),o.forEach(u),s.forEach(u),this.h()},h(){m(l,"class","content-info-url svelte-4ldylr"),m(l,"href",a=r[0].infoUrl),m(e,"class","column")},m(n,s){P(n,e,s),c(e,l),c(l,t)},p(n,s){s&1&&a!==(a=n[0].infoUrl)&&m(l,"href",a)},d(n){n&&u(e)}}}function ot(r){let e,l;return{c(){e=v("div"),l=C("\xB7"),this.h()},l(t){e=_(t,"DIV",{class:!0});var a=g(e);l=D(a,"\xB7"),a.forEach(u),this.h()},h(){m(e,"class","columns-separator svelte-4ldylr")},m(t,a){P(t,e,a),c(e,l)},d(t){t&&u(e)}}}function it(r){let e,l,t,a=r[0].imageAttribution+"",n;return{c(){e=v("div"),l=v("p"),t=C("Image credit: "),n=C(a),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);l=_(o,"P",{class:!0});var i=g(l);t=D(i,"Image credit: "),n=D(i,a),i.forEach(u),o.forEach(u),this.h()},h(){m(l,"class","content-img-attribution svelte-4ldylr"),m(e,"class","column")},m(s,o){P(s,e,o),c(e,l),c(l,t),c(l,n)},p(s,o){o&1&&a!==(a=s[0].imageAttribution+"")&&le(n,a)},d(s){s&&u(e)}}}function gl(r){let e,l,t,a,n,s,o,i,f,h,d,y,b,p,k=r[0].name+"",S,w,E,L,G,I,V,B=r[0].description+"",R,Y,U,Z,se,A=r[0].imageAttribution&&lt(r),j=r[0].dateStart&&at(r),N=r[0].dateEnd&&rt(r),F=r[0].stationName&&st(r),q=r[0].infoUrl&&nt(r),K=r[0].infoUrl&&r[0].imageAttribution&&ot(),J=r[0].imageAttribution&&it(r);return{c(){e=v("div"),l=v("div"),t=v("div"),a=v("a"),A&&A.c(),i=$(),f=v("div"),h=v("div"),d=v("div"),y=v("div"),b=v("div"),p=v("h2"),S=C(k),w=$(),E=v("p"),j&&j.c(),L=me(),N&&N.c(),G=$(),F&&F.c(),I=$(),V=v("p"),R=C(B),Y=$(),U=v("div"),q&&q.c(),Z=$(),K&&K.c(),se=$(),J&&J.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var H=g(e);l=_(H,"DIV",{class:!0});var oe=g(l);t=_(oe,"DIV",{class:!0});var ie=g(t);a=_(ie,"A",{class:!0,href:!0,style:!0,title:!0});var ce=g(a);A&&A.l(ce),ce.forEach(u),ie.forEach(u),oe.forEach(u),i=z(H),f=_(H,"DIV",{class:!0});var Me=g(f);h=_(Me,"DIV",{class:!0});var Be=g(h);d=_(Be,"DIV",{class:!0});var ue=g(d);y=_(ue,"DIV",{class:!0});var ge=g(y);b=_(ge,"DIV",{class:!0});var pe=g(b);p=_(pe,"H2",{class:!0});var Oe=g(p);S=D(Oe,k),Oe.forEach(u),w=z(pe),E=_(pe,"P",{class:!0});var Ie=g(E);j&&j.l(Ie),L=me(),N&&N.l(Ie),Ie.forEach(u),pe.forEach(u),G=z(ge),F&&F.l(ge),ge.forEach(u),I=z(ue),V=_(ue,"P",{class:!0});var Ue=g(V);R=D(Ue,B),Ue.forEach(u),Y=z(ue),U=_(ue,"DIV",{class:!0});var fe=g(U);q&&q.l(fe),Z=z(fe),K&&K.l(fe),se=z(fe),J&&J.l(fe),fe.forEach(u),ue.forEach(u),Be.forEach(u),Me.forEach(u),H.forEach(u),this.h()},h(){m(a,"class","data-img svelte-4ldylr"),m(a,"href",n=r[0].imageUrl?r[0].imageUrl:void 0),m(a,"style",s=r[0].imageUrl?`background-image:url(${r[0].imageUrl})`:void 0),m(a,"title",o=r[0].imageAttribution?`Source: ${r[0].imageAttribution}`:void 0),m(t,"class","header svelte-4ldylr"),m(l,"class","card-left"),m(p,"class","svelte-4ldylr"),m(E,"class","svelte-4ldylr"),m(b,"class","column"),ye(b,"flex-grow","1",!1),m(y,"class","columns svelte-4ldylr"),m(V,"class","svelte-4ldylr"),m(U,"class","columns svelte-4ldylr"),m(d,"class","content svelte-4ldylr"),m(h,"class","body svelte-4ldylr"),m(f,"class","card-right svelte-4ldylr"),m(e,"class","root svelte-4ldylr")},m(T,H){P(T,e,H),c(e,l),c(l,t),c(t,a),A&&A.m(a,null),c(e,i),c(e,f),c(f,h),c(h,d),c(d,y),c(y,b),c(b,p),c(p,S),c(b,w),c(b,E),j&&j.m(E,null),c(E,L),N&&N.m(E,null),c(y,G),F&&F.m(y,null),c(d,I),c(d,V),c(V,R),c(d,Y),c(d,U),q&&q.m(U,null),c(U,Z),K&&K.m(U,null),c(U,se),J&&J.m(U,null)},p(T,[H]){T[0].imageAttribution?A?A.p(T,H):(A=lt(T),A.c(),A.m(a,null)):A&&(A.d(1),A=null),H&1&&n!==(n=T[0].imageUrl?T[0].imageUrl:void 0)&&m(a,"href",n),H&1&&s!==(s=T[0].imageUrl?`background-image:url(${T[0].imageUrl})`:void 0)&&m(a,"style",s),H&1&&o!==(o=T[0].imageAttribution?`Source: ${T[0].imageAttribution}`:void 0)&&m(a,"title",o),H&1&&k!==(k=T[0].name+"")&&le(S,k),T[0].dateStart?j?j.p(T,H):(j=at(T),j.c(),j.m(E,L)):j&&(j.d(1),j=null),T[0].dateEnd?N?N.p(T,H):(N=rt(T),N.c(),N.m(E,null)):N&&(N.d(1),N=null),T[0].stationName?F?F.p(T,H):(F=st(T),F.c(),F.m(y,null)):F&&(F.d(1),F=null),H&1&&B!==(B=T[0].description+"")&&le(R,B),T[0].infoUrl?q?q.p(T,H):(q=nt(T),q.c(),q.m(U,Z)):q&&(q.d(1),q=null),T[0].infoUrl&&T[0].imageAttribution?K||(K=ot(),K.c(),K.m(U,se)):K&&(K.d(1),K=null),T[0].imageAttribution?J?J.p(T,H):(J=it(T),J.c(),J.m(U,null)):J&&(J.d(1),J=null)},i:Q,o:Q,d(T){T&&u(e),A&&A.d(),j&&j.d(),N&&N.d(),F&&F.d(),q&&q.d(),K&&K.d(),J&&J.d()}}}function pl(r,e,l){let{data:t={}}=e;return r.$$set=a=>{"data"in a&&l(0,t=a.data)},[t]}class bl extends ae{constructor(e){super();re(this,e,pl,gl,W,{data:0})}}function ct(r,e,l){const t=r.slice();return t[1]=e[l],t[3]=l,t}function ut(r){let e,l,t=[...r[0]].reverse(),a=[];for(let s=0;s<t.length;s+=1)a[s]=dt(ct(r,t,s));const n=s=>O(a[s],1,1,()=>{a[s]=null});return{c(){e=v("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);for(let i=0;i<a.length;i+=1)a[i].l(o);o.forEach(u),this.h()},h(){m(e,"class","root")},m(s,o){P(s,e,o);for(let i=0;i<a.length;i+=1)a[i].m(e,null);l=!0},p(s,o){if(o&1){t=[...s[0]].reverse();let i;for(i=0;i<t.length;i+=1){const f=ct(s,t,i);a[i]?(a[i].p(f,o),M(a[i],1)):(a[i]=dt(f),a[i].c(),M(a[i],1),a[i].m(e,null))}for(ve(),i=t.length;i<a.length;i+=1)n(i);_e()}},i(s){if(!l){for(let o=0;o<t.length;o+=1)M(a[o]);l=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)O(a[o]);l=!1},d(s){s&&u(e),$e(a,s)}}}function ft(r){let e,l,t,a,n;return t=new bl({props:{data:r[1]}}),{c(){e=v("div"),l=v("div"),X(t.$$.fragment),a=$(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);l=_(o,"DIV",{class:!0});var i=g(l);x(t.$$.fragment,i),i.forEach(u),a=z(o),o.forEach(u),this.h()},h(){m(l,"class","tray-item-content"),m(e,"class","tray-item svelte-tfroqg")},m(s,o){P(s,e,o),c(e,l),ee(t,l,null),c(e,a),n=!0},p(s,o){const i={};o&1&&(i.data=s[1]),t.$set(i)},i(s){n||(M(t.$$.fragment,s),n=!0)},o(s){O(t.$$.fragment,s),n=!1},d(s){s&&u(e),te(t)}}}function dt(r){let e=r[1].id,l,t,a=ft(r);return{c(){a.c(),l=me()},l(n){a.l(n),l=me()},m(n,s){a.m(n,s),P(n,l,s),t=!0},p(n,s){s&1&&W(e,e=n[1].id)?(ve(),O(a,1,1,Q),_e(),a=ft(n),a.c(),M(a),a.m(l.parentNode,l)):a.p(n,s)},i(n){t||(M(a),t=!0)},o(n){O(a),t=!1},d(n){n&&u(l),a.d(n)}}}function kl(r){let e,l,t=r[0].length&&ut(r);return{c(){t&&t.c(),e=me()},l(a){t&&t.l(a),e=me()},m(a,n){t&&t.m(a,n),P(a,e,n),l=!0},p(a,[n]){a[0].length?t?(t.p(a,n),n&1&&M(t,1)):(t=ut(a),t.c(),M(t,1),t.m(e.parentNode,e)):t&&(ve(),O(t,1,1,()=>{t=null}),_e())},i(a){l||(M(t),l=!0)},o(a){O(t),l=!1},d(a){t&&t.d(a),a&&u(e)}}}function yl(r,e,l){let{data:t=[]}=e;return r.$$set=a=>{"data"in a&&l(0,t=a.data)},[t]}class El extends ae{constructor(e){super();re(this,e,yl,kl,W,{data:0})}}function Sl(r){let e,l;return e=new El({props:{data:r[0]}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&1&&(n.data=t[0]),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Il(r,e,l){let t=[];return _l.subscribe(a=>{if(!a.error&&a.data){const n=t[t.length-1];if(n&&n.id===a.data.id)return;t.push(a.data),l(0,t)}}),[t]}class wl extends ae{constructor(e){super();re(this,e,Il,Sl,W,{})}}function Tl(r){let e,l;return e=new ul({props:{onNodeClick:r[0]}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p:Q,i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Cl(r){let e,l,t,a,n,s,o,i,f;return e=new Pt({props:{$$slots:{default:[Tl]},$$scope:{ctx:r}}}),n=new tl({props:{onToggleShowStationNames:r[1],onProfileSearch:r[2]}}),i=new wl({}),{c(){X(e.$$.fragment),l=$(),t=v("div"),a=v("div"),X(n.$$.fragment),s=$(),o=v("div"),X(i.$$.fragment),this.h()},l(h){x(e.$$.fragment,h),l=z(h),t=_(h,"DIV",{class:!0});var d=g(t);a=_(d,"DIV",{class:!0});var y=g(a);x(n.$$.fragment,y),y.forEach(u),s=z(d),o=_(d,"DIV",{class:!0});var b=g(o);x(i.$$.fragment,b),b.forEach(u),d.forEach(u),this.h()},h(){m(a,"class","toolbar"),m(o,"class","profile-cards svelte-1u5ypb"),m(t,"class","side-panel svelte-1u5ypb")},m(h,d){ee(e,h,d),P(h,l,d),P(h,t,d),c(t,a),ee(n,a,null),c(t,s),c(t,o),ee(i,o,null),f=!0},p(h,d){const y={};d&16&&(y.$$scope={dirty:d,ctx:h}),e.$set(y)},i(h){f||(M(e.$$.fragment,h),M(n.$$.fragment,h),M(i.$$.fragment,h),f=!0)},o(h){O(e.$$.fragment,h),O(n.$$.fragment,h),O(i.$$.fragment,h),f=!1},d(h){te(e,h),h&&u(l),h&&u(t),te(n),te(i)}}}function Dl(r){let e,l;return e=new wt({props:{$$slots:{default:[Cl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&16&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Pl(r,e,l){let t;ze(r,ke,o=>l(3,t=o));const a=o=>{et(o)},n=o=>{Fe(ke,t.current=o.target.checked?he.default:he.bca,t)},s=o=>{et({idRef:o.id})};return mt(()=>{Fe(ke,t.current=he.bca,t)}),[a,n,s]}class $l extends ae{constructor(e){super();re(this,e,Pl,Dl,W,{})}}export{$l as default};
